<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Structure | Operations</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="main w-full h-screen px-2">
        <div class="nav w-full h-[58px] mt-1 flex items-center justify-between mb-1 px-1">
            <div class="setting w-12 h-12 rounded-full bg-slate-200 flex flex-col gap-1 items-center justify-center">
                
            </div>
            <div class="logo text-xl uppercase text-center font-bold leading-5 font-[gilroy]">
                Data <br> Structure
            </div>
            <div class="w-12 h-12">
                
            </div>
        </div>
        <div class="options w-full h-[60%]">
            <h2 class="text-3xl mb-4 ml-1 font-[gilroy] leading-7 font-semibold">Insertion <br>Operation on Array</h2>
            <div class="rec-ctn w-full h-[80%] overflow-hidden relative">
                <!-- Multiple rec elements for different recipes -->
                <div class="rec w-full h-full rounded-3xl flex-shrink-0 overflow-hidden">
                    <img src="./imgs/lady (128).jpg" class="item-img object-cover w-full h-full" alt="">
                </div>
                <div class="rec w-full h-full rounded-3xl flex-shrink-0 overflow-hidden">
                    <img src="./imgs/lady (123).jpg" class="item-img object-cover w-full h-full" alt="">
                </div>
                <div class="rec w-full h-full rounded-3xl flex-shrink-0 overflow-hidden">
                    <img src="./imgs/lady (111).jpg" class="item-img object-cover w-full h-full" alt="">
                </div>
                <!-- Add more rec elements as needed -->
            </div>
        </div>
        <div class="steps w-full h-[29%] px-2 py-2">
            <div class="card w-full h-[90%] rounded-2xl bg-purple-400 py-1 overflow-hidden flex items-center justify-center flex-col gap-2">
                <div class="step w-full h-[85%]">
                    <h1 class="text-[22px] font-bold pl-3">Steps To Follow</h1>
                    <div class="steps-slider h-[80%] mt-1 w-full flex flex-col pt-3 px-3 text-lg relative">
                        <!-- Multiple f-step elements for different steps -->
                        <div class="f-step leading-5 font-semibold">1: Check Whether the Array is Empty or not <br> condition: (check top == -1)</div>
                        <div class="f-step leading-5 font-semibold">2: Next step description here...</div>
                        <div class="f-step leading-5 font-semibold">3: Next step description here...</div>
                        <!-- Add more f-step elements as needed -->
                    </div>
                </div>
                <div class="indicator flex items-center justify-center gap-1">
                    <div class="circle"></div>
                    <div class="circle c-active"></div>
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const recCtn = document.querySelector('.rec-ctn');
            const recs = document.querySelectorAll('.rec');
            const stepsSlider = document.querySelector('.steps-slider');
            const steps = document.querySelectorAll('.f-step');
            const indicators = document.querySelectorAll('.indicator .circle');

            let currentRecIndex = 0;
            let currentStepIndex = 0;
            let startX = 0;
            let endX = 0;
            let isDragging = false;

            function updateIndicators(index) {
                indicators.forEach((circle, i) => {
                    circle.classList.toggle('c-active', i === index);
                });
            }

            function showRec(index) {
                recs.forEach((rec, i) => {
                    if (i === index) {
                        rec.classList.add('active');
                        rec.style.transform = 'translateX(0)';
                    } else if (i < index) {
                        rec.classList.remove('active');
                        rec.style.transform = 'translateX(-100%)';
                    } else {
                        rec.classList.remove('active');
                        rec.style.transform = 'translateX(100%)';
                    }
                });
                updateIndicators(index);
            }

            function showStep(index) {
                steps.forEach((step, i) => {
                    if (i === index) {
                        step.classList.add('active');
                        step.style.transform = 'translateX(0)';
                    } else if (i < index) {
                        step.classList.remove('active');
                        step.style.transform = 'translateX(-100%)';
                    } else {
                        step.classList.remove('active');
                        step.style.transform = 'translateX(100%)';
                    }
                });
            }

            recCtn.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isDragging = true;
            });

            recCtn.addEventListener('touchmove', (e) => {
                if (isDragging) {
                    endX = e.touches[0].clientX;
                }
            });
            

            recCtn.addEventListener('touchend', () => {
                if (isDragging) {
                    isDragging = false;
                    if (startX > endX + 50) {
                        // Swipe left
                        currentRecIndex = (currentRecIndex + 1) % recs.length;
                        currentStepIndex = (currentStepIndex + 1) % steps.length;
                    } else if (startX < endX - 50) {
                        // Swipe right
                        currentRecIndex = (currentRecIndex - 1 + recs.length) % recs.length;
                        currentStepIndex = (currentStepIndex - 1 + steps.length) % steps.length;
                    }
                    showRec(currentRecIndex);
                    showStep(currentStepIndex);
                }
            });

            // Initialize the first rec and step to be visible
            showRec(currentRecIndex);
            showStep(currentStepIndex);
        });
    </script>
</body>
</html>
